# Milestone v1.0: Dual-Monitor Student View

**Status:** SHIPPED 2026-01-18
**Phases:** 1-3
**Total Plans:** 6

## Overview

This milestone delivered rock-solid dual-monitor presentation functionality where students see only slides on a projector while teachers see slides plus teleprompter on their laptop. The journey progressed from fixing the core popup/sync issues (Phase 1), to automatic display targeting for Chromium users (Phase 2), to resilience features and presenter conveniences (Phase 3).

## Phases

### Phase 1: Foundation

**Goal**: Teacher can launch student window that stays synced with the teacher view
**Depends on**: Nothing (first phase)
**Requirements**: WIN-01, WIN-02, WIN-03
**Plans**: 2 plans

Plans:
- [x] 01-01-sync-infrastructure-PLAN.md — Core types, BroadcastChannel hook, hash routing hook
- [x] 01-02-dual-window-views-PLAN.md — StudentView component, App.tsx routing, PresentationView refactor

**Details:**
- BroadcastChannel sync hook with type-safe message protocol
- Hash-based routing for /student route detection
- StudentView component for projector display
- PresentationView refactored with popup launch and fallback UI
- Removed broken StudentWindow portal component

### Phase 2: Display Targeting

**Goal**: Chromium users get automatic projector placement; others get clear instructions
**Depends on**: Phase 1
**Requirements**: WIN-04, WIN-05
**Plans**: 2 plans

Plans:
- [x] 02-01-PLAN.md — Window Management API types and useWindowManagement hook
- [x] 02-02-PLAN.md — PermissionExplainer, ManualPlacementGuide components, PresentationView integration

**Details:**
- Window Management API TypeScript type declarations
- useWindowManagement hook with permission state tracking
- PermissionExplainer for pre-permission UI
- ManualPlacementGuide for non-Chromium fallback
- Auto-placement on secondary display

### Phase 3: Resilience & Polish

**Goal**: Presentation survives interruptions and supports presenter remotes
**Depends on**: Phase 2
**Requirements**: RES-01, RES-02, RES-03, PRES-01, PRES-02
**Plans**: 2 plans

Plans:
- [x] 03-01-PLAN.md — Resilience infrastructure (extended types, heartbeat hook, keyboard hook, ConnectionStatus, Toast)
- [x] 03-02-PLAN.md — Integration (StudentView heartbeat, PresentationView wiring, NextSlidePreview)

**Details:**
- Heartbeat-based connection monitoring
- ConnectionStatus visual indicator
- Toast notifications for reconnection
- Keyboard navigation for presenter remotes
- Next slide preview thumbnail

---

## Milestone Summary

**Decimal Phases:** None (all phases executed in original order)

**Key Decisions:**
- Generic BroadcastChannel hook for type-safe cross-window sync
- Hash routing uses native APIs (no react-router dependency)
- Synchronous window.open preserves user activation for popup reliability
- Fire-and-forget popup - BroadcastChannel handles all sync
- Cast screen change listener through unknown (Chromium-specific API)
- Heartbeat only starts connection checks after first ack
- Escape key closes student window (safer for presenters)
- Connection state derived from heartbeat acks

**Issues Resolved:**
- Fixed popup blocker issues with synchronous window.open
- Replaced broken StudentWindow portal component
- Fixed TypeScript error for screen change listener

**Issues Deferred:** None

**Technical Debt Incurred:** None

---

*For current project status, see .planning/ROADMAP.md*
*Archived: 2026-01-18*
