---
phase: 73-claude-chat-tips
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - components/ClaudeChatTips.tsx
  - App.tsx
autonomous: true
requirements:
  - TIPS-01
  - TIPS-02
  - TIPS-03
  - TIPS-04
  - TIPS-05

must_haves:
  truths:
    - "Teacher can open a tips page from the landing page"
    - "Tips page shows all supported markers (Say:, Ask:, Write on board:, Activity:), section headings, and Day headers"
    - "Tips page displays an example lesson plan snippet"
    - "Teacher can copy the prompt template to clipboard with one click and sees toast confirmation"
    - "Marker list on tips page is rendered from the shared SUPPORTED_MARKERS constant, not hardcoded"
  artifacts:
    - path: "components/ClaudeChatTips.tsx"
      provides: "Tips page overlay component"
      min_lines: 80
    - path: "App.tsx"
      provides: "showClaudeTips state + link + overlay render"
      contains: "showClaudeTips"
  key_links:
    - from: "components/ClaudeChatTips.tsx"
      to: "services/scriptedParser/types.ts"
      via: "import SUPPORTED_MARKERS"
      pattern: "import.*SUPPORTED_MARKERS.*from.*scriptedParser"
    - from: "App.tsx"
      to: "components/ClaudeChatTips.tsx"
      via: "conditional render when showClaudeTips is true"
      pattern: "showClaudeTips.*ClaudeChatTips"
    - from: "components/ClaudeChatTips.tsx"
      to: "Toast system"
      via: "addToast prop for clipboard feedback"
      pattern: "addToast\\("
---

<objective>
Create the Claude Chat Tips page -- a static overlay accessible from the landing page that shows teachers how to generate Cue-compatible lesson plans using Claude. Includes marker format specification, example snippet, and a copyable prompt template with clipboard fallback.

Purpose: Teachers need a reference page showing the exact marker format (Say:, Ask:, Write on board:, Activity:, section headings, Day headers) so they can instruct Claude to generate lesson plans that import directly into Cue's scripted mode.

Output: `components/ClaudeChatTips.tsx` component + App.tsx integration
</objective>

<execution_context>
@/Users/ricky/.claude/get-shit-done/workflows/execute-plan.md
@/Users/ricky/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/73-claude-chat-tips/73-RESEARCH.md
@services/scriptedParser/types.ts
@App.tsx
@components/PresentationView.tsx (clipboard copy pattern at lines 1233-1241)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create ClaudeChatTips overlay component</name>
  <files>components/ClaudeChatTips.tsx</files>
  <action>
Create `components/ClaudeChatTips.tsx` as a full-screen overlay component following the SettingsModal/ResourceHub pattern.

**Props interface:**
```typescript
interface ClaudeChatTipsProps {
  onClose: () => void;
  addToast: (message: string, duration?: number, variant?: 'success' | 'error' | 'info' | 'warning') => void;
}
```

**Shared constant import (TIPS-05 -- CRITICAL):**
Import `SUPPORTED_MARKERS` from `../services/scriptedParser/types`. Do NOT hardcode marker names. The 4 content markers MUST be rendered by mapping over `SUPPORTED_MARKERS`. Section headings (Hook, I Do, We Do, You Do, Plenary) and Day headers (`## Day N`) are structural markers and can be hardcoded since they are defined by parser regex patterns, not the `SUPPORTED_MARKERS` constant.

**Clipboard copy utility (TIPS-04):**
Create a local `copyToClipboard` async function inside the component (or above it) with HTTPS fallback:
1. Primary: `navigator.clipboard.writeText(text)` (requires HTTPS or localhost)
2. Fallback: Create temporary `<textarea>`, set value, `position: fixed; opacity: 0`, appendChild, select, `document.execCommand('copy')`, removeChild
3. Return boolean success
4. On success: `addToast('Copied to clipboard', 2000, 'success')`
5. On failure: `addToast('Failed to copy', 2000, 'error')`

**Layout structure (TIPS-01):**
Full-screen overlay with backdrop blur. Scrollable content area. Close button top-right (X icon). Max width `max-w-2xl`. Use Tailwind dark mode classes throughout.

Sections (top to bottom):
1. **Header:** Title "Claude Chat Tips" with subtitle "Generate Cue-compatible lesson plans"
2. **Format Specification (TIPS-02):** Three categories:
   - **Content Markers:** Map over `SUPPORTED_MARKERS` to render each marker with `:` suffix and a brief description of what it does (e.g., "Say:" = teacher script for teleprompter, "Ask:" = student question shown on slide, "Write on board:" = content displayed on slide, "Activity:" = work-together activity). Use `<code>` styling for marker names.
   - **Section Headings:** List the 5 section headings: `## Hook`, `### I Do`, `### We Do`, `### You Do`, `### Plenary`. Explain these create slide boundaries.
   - **Day Headers:** Show `## Day 1: Title` format. Explain these split multi-day lesson plans.
3. **Example Snippet (TIPS-03):** A `<pre>` block with a short example lesson plan demonstrating all marker types, a section heading, and a day header. Use monospace font, styled code block with dark background. Something like:
   ```
   ## Day 1: Introduction to Fractions

   ## Hook

   Say: Today we're going to explore fractions. Has anyone ever shared a pizza equally?

   Ask: If you cut a pizza into 4 equal slices and eat 1, what fraction did you eat?

   ### I Do

   Say: Let me show you how we write fractions. The number on the bottom tells us how many equal parts we have.

   Write on board: 1/4 means 1 out of 4 equal parts

   Activity: Using the fraction strips on your desk, show me what 1/2 looks like. Compare with your partner.
   ```
4. **Prompt Template (TIPS-01):** A copyable prompt template block with a "Copy Prompt" button. The prompt template should be a string constant (NOT inline JSX) stored at the top of the component or file. It should instruct Claude to generate a lesson plan using the supported markers and include placeholders for `[TOPIC]`, `[GRADE LEVEL]`, and `[NUMBER OF DAYS]`. The prompt should explicitly list the marker format, section headings, and day headers. Ensure the template string is properly dedented (no leading whitespace from code indentation). The copy button calls `copyToClipboard(PROMPT_TEMPLATE)` and shows toast feedback.

**Styling:**
- Follow existing Tailwind conventions: indigo primary in light, amber in dark
- Font: Fredoka for headings (via `font-fredoka` class), Poppins for body text
- Dark mode support via `dark:` prefix
- Code blocks: `bg-slate-100 dark:bg-slate-800` with `font-mono` and `text-sm`
- Smooth transitions on interactive elements

**Do NOT:**
- Hardcode the 4 content marker names as strings. Map over `SUPPORTED_MARKERS`.
- Use `window.prompt()` as clipboard fallback
- Create a separate CSS file (Tailwind only)
- Import any new dependencies
  </action>
  <verify>
1. File exists at `components/ClaudeChatTips.tsx`
2. `grep -c "SUPPORTED_MARKERS" components/ClaudeChatTips.tsx` returns at least 1 (import)
3. `grep -c "execCommand" components/ClaudeChatTips.tsx` returns at least 1 (clipboard fallback)
4. `grep -c "addToast" components/ClaudeChatTips.tsx` returns at least 2 (success + failure)
5. No hardcoded marker arrays: `grep "'Say', 'Ask'" components/ClaudeChatTips.tsx` should return 0 hits
6. `npx tsc --noEmit` passes
  </verify>
  <done>
ClaudeChatTips component renders overlay with format specification (markers from SUPPORTED_MARKERS), example snippet, and copyable prompt template. Clipboard copy works with HTTPS fallback and toast feedback.
  </done>
</task>

<task type="auto">
  <name>Task 2: Wire tips page into App.tsx landing page</name>
  <files>App.tsx</files>
  <action>
Add the `showClaudeTips` state and wire the ClaudeChatTips component into App.tsx.

**1. Import:**
Add import for ClaudeChatTips at the top of App.tsx with the other component imports:
```typescript
import ClaudeChatTips from './components/ClaudeChatTips';
```

**2. State:**
Add state near the other `show*` states (around line 336-337 where `showResourceHub` and `showSettings` are):
```typescript
const [showClaudeTips, setShowClaudeTips] = useState(false);
```

**3. Landing page link:**
Add a subtle text link below the "or drag a .cue file anywhere to open" paragraph (line 2691-2693). Place it right after that `<p>` tag, before the closing `</div>`:
```typescript
<button
  onClick={() => setShowClaudeTips(true)}
  className="text-sm text-slate-400 hover:text-indigo-500 dark:hover:text-amber-400 transition-colors mt-2"
>
  Tips for generating lesson plans with Claude
</button>
```
This should only appear when `isScriptedMode` is true (or when scripted marker detection is positive), since the tips are only relevant in scripted import mode. Check the existing `isScriptedMode` variable -- if it exists, conditionally render. If not, always show the link (teachers may want tips before toggling mode).

**4. Overlay render:**
Add the conditional render near the other overlay renders (around line 2257-2283 where showResourceHub and showSettings render), following the same pattern:
```typescript
{showClaudeTips && (
  <ClaudeChatTips
    onClose={() => setShowClaudeTips(false)}
    addToast={addToast}
  />
)}
```

**Do NOT:**
- Add keyboard shortcut for opening tips (not needed)
- Move existing state declarations around
- Touch any other functionality
  </action>
  <verify>
1. `grep -c "showClaudeTips" App.tsx` returns at least 4 (state declaration, setter call, condition, setter in onClose)
2. `grep -c "ClaudeChatTips" App.tsx` returns at least 2 (import + JSX)
3. `npx tsc --noEmit` passes
4. `npm run build` succeeds
  </verify>
  <done>
Landing page has a "Tips for generating lesson plans with Claude" link. Clicking it opens the ClaudeChatTips overlay. Closing the overlay returns to the landing page. App builds successfully.
  </done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` passes with no errors
2. `npm run build` succeeds
3. In browser: navigate to landing page, see "Tips for generating lesson plans with Claude" link
4. Click link: tips overlay appears with marker format spec, example snippet, and prompt template
5. Click "Copy Prompt": toast shows "Copied to clipboard", pasting into text editor shows properly formatted prompt
6. Marker list on tips page comes from SUPPORTED_MARKERS import (verified by grep for import statement)
7. Close button returns to landing page
</verification>

<success_criteria>
- ClaudeChatTips.tsx exists and renders overlay with all 3 content sections (format spec, example, prompt template)
- SUPPORTED_MARKERS imported from services/scriptedParser/types.ts (not hardcoded)
- Clipboard copy works with HTTPS fallback via execCommand
- Toast feedback on copy success/failure
- App.tsx has link on landing page that toggles showClaudeTips state
- Build passes with zero errors
</success_criteria>

<output>
After completion, create `.planning/phases/73-claude-chat-tips/73-01-SUMMARY.md`
</output>
