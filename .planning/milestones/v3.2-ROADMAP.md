# Milestone v3.2: Pedagogical Slide Types

**Status:** SHIPPED 2026-01-25
**Phases:** 29-32
**Total Plans:** 4

## Overview

v3.2 extended Cue's AI generation capabilities with four pedagogical slide features: Single Teleprompter Regeneration (updating one slide's script after manual edits), Elaborate slides (AI-generated deeper content with examples), Work Together slides (collaborative activities), and Class Challenge slides (live interactive student contribution capture). All features leveraged existing React 19 + Gemini/Claude architecture with zero new dependencies.

## Phases

### Phase 29: Single Teleprompter Regeneration

**Goal**: Teachers can regenerate script for one slide after manual edits
**Depends on**: Phase 28 (verbosity caching system)
**Plans**: 1 plan

Plans:
- [x] 29-01: Extend AI provider signature and add Regen button UI

**Details:**
- Extended AI provider interface with prevSlide/nextSlide parameters for context awareness
- Added CONTEXT FOR COHERENT FLOW section to prompts ensuring natural transitions
- Implemented handleRegenerateScript with differential cache behavior
- Added Regen button to verbosity selector UI with amber hover styling
- Standard regeneration updates speakerNotes and clears cache
- Concise/Detailed regeneration updates cache only

### Phase 30: Elaborate Slide Insertion

**Goal**: Teachers can insert AI-generated depth content expanding on current slide
**Depends on**: Phase 29 (validates AI provider extension pattern)
**Plans**: 1 plan

Plans:
- [x] 30-01: Extend AI providers with generateElaborateSlide and add Elaborate button to InsertPoint

**Details:**
- Teachers can click Elaborate in + menu to generate AI-powered depth content
- AI generates 3-5 content points with examples, analogies, and application focus
- Generated content uses full presentation context to avoid repetition
- Teleprompter script follows current verbosity level (Standard rules)
- Elaborate slides appear immediately after source slide
- Purple styling for Elaborate button to differentiate from Exemplar

### Phase 31: Work Together Slide Insertion

**Goal**: Teachers can insert AI-generated collaborative activities with student pairs
**Depends on**: Phase 30 (same insertion pattern)
**Plans**: 1 plan

Plans:
- [x] 31-01: Extend AI providers with generateWorkTogetherSlide, add WorkTogetherLayout renderer, and add Work Together button to InsertPoint

**Details:**
- Work Together button (teal) added to InsertPoint dropdown as 4th option
- AI generates collaborative activities with constraints: basic resources only (pen, paper, whiteboard), group-of-3 variant required
- StudentPair interface with Fisher-Yates shuffle generates randomized pairs from class roster
- WorkTogetherLayout component displays numbered instructions and pairs panel (or placeholder if no roster)
- handleShufflePairs enables re-randomization without regenerating AI content

### Phase 32: Class Challenge Interactive Slides

**Goal**: Teachers can capture live student contributions visible to projector
**Depends on**: Phase 31 (extends slide type system)
**Plans**: 1 plan

Plans:
- [x] 32-01: Add Class Challenge slide type with contribution input, card display, and real-time sync

**Details:**
- Class Challenge slide type with contributions array and challengePrompt fields
- AI generation (Gemini and Claude) creating open-ended prompts with facilitation tips
- ClassChallengeLayout with orange theme and dynamic card sizing (cards shrink as more added)
- Teacher-only contribution input, delete buttons, and prompt editing in presentation view
- Automatic sync to student view (contributions appear without input controls)
- Implicit locking via layout visibility (no explicit lock state needed)

---

## Milestone Summary

**Key Decisions:**

- Context-aware regeneration with prevSlide/nextSlide (ensures coherent flow across slides)
- Differential cache behavior (Standard clears, Concise/Detailed preserve)
- Full presentation context in AI prompts (prevents content repetition)
- slideType marker for UI badge support (elaborate, work-together, class-challenge)
- Fisher-Yates pair generation (unbiased randomization for student pairs)
- StudentPair separate from content (enables shuffle without AI regeneration)
- Implicit locking via layout visibility (simplifies Class Challenge state management)
- Contribution sync via existing STATE_UPDATE (no new BroadcastChannel message)

**Issues Resolved:**

- None â€” all phases executed without blockers

**Issues Deferred:**

- handleShufflePairs exists but not wired to UI (documented as beyond requirements, can be added in future)

**Technical Debt Incurred:**

- Minor: handleShufflePairs function implemented but no shuffle button in UI (documented, non-blocking)

---

_For current project status, see .planning/ROADMAP.md_
